(this["webpackJsonpjoin-to-it"]=this["webpackJsonpjoin-to-it"]||[]).push([[0],{74:function(e,t,n){},75:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n(5),a=n.n(o),s=(n(74),n(75),n(12)),r=n(14),l=n(31),i=n(17),d=n(9),u=n(20),b=n(69),j=function(e){var t=e.getFullYear(),n=e.getMonth()+1,c=e.getDate();return n=n<10?"0"+n:n,c=c<10?"0"+c:c,"".concat(t,"-").concat(n,"-").concat(c)},v=function(e,t,n){if(n){var c=new Date("".concat(e)).setHours(parseInt(t.slice(0,2))+1,parseInt(t.slice(3,5)));return new Date(c)}return new Date("".concat(e," ").concat(t))},O=function(e){var t=e.getHours(),n=e.getMinutes();return"".concat(t,":").concat(n)},p=n(7),f=Object(p.b)("modalReduser/showEditor"),m=Object(p.b)("modalReduser/closeEditor"),h=Object(p.b)("eventsReduser/addEvent"),x=Object(p.b)("eventsReduser/deleteEvent"),E=Object(p.b)("eventsReduser/editEvent"),g=n(3),N=Object(s.b)((function(e){return{eventsList:e.events}}),(function(e){return{closeEditor:function(){return e(m())},addEvent:function(t){return e(h(t))},editEvent:function(t){return e(E(t))},deleteEvent:function(t){return e(x(t))}}}))(Object(b.a)((function(e){var t=Object(c.useRef)(null),n=e.selectedSlot.slots[0],o={eventName:n?"":e.selectedSlot.eventInfo.title,eventDate:j(n?e.selectedSlot.slots[0]:e.selectedSlot.eventInfo.start),eventTime:n?"":O(e.selectedSlot.eventInfo.start),notes:n?"":e.selectedSlot.eventInfo.notes,color:n?"blue":e.selectedSlot.eventInfo.color},a=Object(c.useState)(o),s=Object(r.a)(a,2),l=s[0],b=s[1],p=Object(c.useState)({}),f=Object(r.a)(p,2),m=f[0],h=f[1],x=Object(c.useState)(!1),E=Object(r.a)(x,2),N=E[0],S=E[1],w={absolute:{left:e.selectedSlot.bounds.clientX+"px",top:e.selectedSlot.bounds.clientY+10+"px"}},y=function(e){b((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(d.a)({},e.target.name,e.target.value))}))},D=function(t){if(t.preventDefault(),I())if(S(!1),n){var c={title:T,start:v(R,k),end:v(R,k,1),notes:F,color:L,id:Date.now()};e.addEvent(c),_()}else C();else S(!0)},C=function(){var t=e.eventsList,n=e.selectedSlot.eventInfo.id,c=t.findIndex((function(e){return e.id===n})),o={title:T,start:v(R,k),end:v(R,k,1),notes:F,color:L},a=function(e,t){for(var n={},c=0,o=Object.entries(e);c<o.length;c++){var a=Object(r.a)(o[c],2),s=a[0];a[1],t[s]&&s.toString()!==t[s].toString()&&(n[s]=t[s])}return n}(t[c],o),s=Object(u.a)(Object(u.a)({},t[c]),a),l=[].concat(Object(i.a)(t.slice(0,c)),[s],Object(i.a)(t.slice(c+1)));e.editEvent(l),_()},_=function(){e.closeEditor(),b(o)},I=function(){var e=!0,t={};return l.eventName.length<1&&(e=!1,t.eventName="Cannot be empty"),l.eventDate.length<1&&(e=!1,t.eventDate="Cannot be empty"),l.eventTime.length<1&&(e=!1,t.eventTime="Cannot be empty"),h(t),e};Object(c.useEffect)((function(){var e;null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}));var T=l.eventName,R=l.eventDate,k=l.eventTime,F=l.notes,L=l.color;return Object(g.jsx)("div",{className:"editor",style:[w.absolute],ref:t,children:Object(g.jsxs)("form",{onSubmit:D,children:[Object(g.jsx)("button",{onClick:_,type:"button",className:"close_btn"}),Object(g.jsxs)("div",{className:"input_wrapper",children:[Object(g.jsx)("label",{htmlFor:"eventName",children:"event name"}),Object(g.jsx)("input",{id:"eventName",type:"text",name:"eventName",placeholder:"eventName",value:T,onChange:y}),m.eventName&&N&&Object(g.jsx)("span",{className:"error_span",children:m.eventName})]}),Object(g.jsxs)("div",{className:"input_wrapper",children:[Object(g.jsx)("label",{htmlFor:"eventDate",children:"event date"}),Object(g.jsx)("input",{id:"eventDate",type:"date",name:"eventDate",placeholder:"eventDate",value:R,onChange:y}),m.eventDate&&N&&Object(g.jsx)("span",{className:"error_span",children:m.eventDate})]}),Object(g.jsxs)("div",{className:"input_wrapper",children:[Object(g.jsx)("label",{htmlFor:"eventTime",children:"event time"}),Object(g.jsx)("input",{id:"eventTime",type:"time",name:"eventTime",placeholder:"eventTime",value:k,onChange:y}),m.eventTime&&N&&Object(g.jsx)("span",{className:"error_span",children:m.eventTime})]}),Object(g.jsxs)("div",{className:"input_wrapper",children:[Object(g.jsx)("label",{htmlFor:"notes",children:"event notes"}),Object(g.jsx)("input",{id:"notes",type:"text",name:"notes",placeholder:"notes",value:F,onChange:y})]}),Object(g.jsxs)("div",{className:"input_wrapper",children:[Object(g.jsx)("label",{htmlFor:"color",children:"event color"}),Object(g.jsxs)("select",{name:"color",id:"color",value:L,onChange:y,children:[Object(g.jsx)("option",{value:"blue",children:"Blue"}),Object(g.jsx)("option",{value:"red",children:"Red"}),Object(g.jsx)("option",{value:"green",children:"Green"})]})]}),Object(g.jsxs)("div",{className:"editor_bottom",children:[n?Object(g.jsx)("button",{onClick:_,type:"button",className:"cancel_btn",children:"Cancel"}):Object(g.jsx)("button",{onClick:function(){var t=e.selectedSlot.eventInfo.id;e.deleteEvent(t),_()},type:"button",className:"cancel_btn",children:"Delete"}),Object(g.jsx)("button",{onClick:D,type:"button",className:"save_btn",children:"Save"})]})]})})}))),S=n(68),w=n.n(S),y=Object(l.b)(w.a),D=Object(s.b)((function(e){return{isEditorOpened:e.modals.isEditorShown,eventsList:e.events}}),(function(e){return{openEditor:function(){return e(f())},closeEditor:function(){return e(m())}}}))((function(e){var t=Object(c.useState)({bounds:{},slots:[]}),n=Object(r.a)(t,2),o=n[0],a=n[1],s=function(){e.closeEditor()};return Object(g.jsxs)("div",{className:"calendar",children:[e.isEditorOpened&&Object(g.jsx)(N,{eventsList:e.eventsList,selectedSlot:o}),Object(g.jsx)(l.a,{localizer:y,defaultDate:new Date,defaultView:"month",events:e.eventsList,style:{height:"90vh"},selectable:!0,onSelectSlot:function(t,n){e.isEditorOpened?e.closeEditor():(a({bounds:{clientX:t.box?t.box.clientX:t.bounds.left,clientY:t.box?t.box.clientY:t.bounds.top},slots:t.slots}),e.openEditor())},onSelectEvent:function(t,n){e.closeEditor(),a({bounds:{clientX:n.pageX,clientY:n.pageY},slots:[!1],eventInfo:{title:t.title,start:t.start,end:t.end,notes:t.notes,color:t.color,id:t.id}}),e.openEditor()},onNavigate:s,onView:s,onRangeChange:s,tooltipAccessor:function(e){return e.notes},eventPropGetter:function(e){return{style:{backgroundColor:e.color,color:"#fff",padding:"8px 12px"}}},dayPropGetter:function(e){return{className:"day_item"}}})]})}));var C,_,I=Object(s.b)(null)((function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(D,{})})})),T=Object(p.c)(!1,(C={},Object(d.a)(C,f,(function(e,t){return{isEditorShown:!0}})),Object(d.a)(C,m,(function(e,t){return{isEditorShown:!1}})),C)),R=Object(p.c)([],(_={},Object(d.a)(_,h,(function(e,t){return[].concat(Object(i.a)(e),[t.payload])})),Object(d.a)(_,x,(function(e,t){return e.filter((function(e){return e.id!==t.payload}))})),Object(d.a)(_,E,(function(e,t){return Object(i.a)(t.payload)})),_)),k=n(19),F=Object(p.a)({reducer:{modals:T,events:R},middleware:[k.a]});a.a.render(Object(g.jsx)(s.a,{store:F,children:Object(g.jsx)(I,{})}),document.getElementById("root"))}},[[87,1,2]]]);
//# sourceMappingURL=main.fd0fc7a6.chunk.js.map